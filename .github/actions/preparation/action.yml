# https://docs.github.com/en/actions/concepts/workflows-and-actions/custom-actions#composite-actions
# https://docs.github.com/en/actions/tutorials/create-actions/create-a-composite-action
# https://docs.github.com/en/actions/tutorials/create-actions/create-a-composite-action#creating-a-composite-action-within-the-same-repository
---
name: Preparation
description: Checkout code and prepare Python environment
runs:
  using: composite
  steps:
    - name: Set up Python
      uses: actions/setup-python@v6
      with:
        python-version-file: ".python-version"
    - name: Install uv
      uses: astral-sh/setup-uv@v6
      with:
        enable-cache: true
    - name: Install dependencies
      shell: bash
      run: uv sync --locked --all-extras --dev
